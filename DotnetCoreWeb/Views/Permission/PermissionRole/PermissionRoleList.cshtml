@model IEnumerable<DotnetCore.Model.Transfer.TRole>
@{
    var roles = ViewBag.RoleIds as IEnumerable<Guid>;
}
<div class="wrapper wrapper-content  animated fadeInRight">
    <div class="row">
        <div class="col-sm-6">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>角色 <small>@ViewBag.AccountName</small></h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="close-link">
                            <i class="fa fa-times"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content">
                    <form class="form-horizontal">
                        <div class="form-group">
                            <div class="col-sm-8" id="divRole">
                                @foreach (var item in Model)
                                {
                                    if (roles != null && roles.Any(id => id == item.Id))
                                    {
                                        <p><input type="checkbox" value="@item.Id" checked="checked" /><label>@item.RoleName</label></p>
                                    }
                                    else
                                    {
                                        <p><input type="checkbox" value="@item.Id"/><label>@item.RoleName</label></p>
                                    }
                                }
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-offset-3 col-sm-8">
                                <input type="hidden" id="hidRoleId" value="@ViewBag.AccountId" />
                                <a id="btnSave" href="javascript:void(0)" class="btn btn-w-m btn-info">保存数据</a>
                                &nbsp;&nbsp;
                                <a id="btnGoBack" href="@Url.Action("UserList","User")" class="btn btn-w-m btn-white">立即返回</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<input type="hidden" value="@ViewBag.AccountId" id="hidAccountId"/>
@section Footer
{
    <link href="~/lib/zTree_v3/css/zTreeStyle/zTreeStyle.css" rel="stylesheet" />
    <script src="~/lib/zTree_v3/js/jquery.ztree.core-3.5.js"></script>
    <script src="~/lib/zTree_v3/js/jquery.ztree.excheck-3.5.js"></script>
    <script src="~/lib/zTree_v3/js/jquery.ztree.exedit-3.5.js"></script>
    <script src="~/js/views/Permission/PermissionRole/PermissionRole.js"></script>
}